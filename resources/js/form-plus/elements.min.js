if(jQuery().datetimepicker){moment.locale('en');formsPlus.setMinDate=function($el,date,asBase){if(!date){return}
var picker=$el.data("DateTimePicker");date=formsPlus.toDate(date,$el.data('data-date-format'));if(picker){var min;if(asBase&&$el.data('dateMinDate')){var
parseFormats=picker.extraFormats()||[],format=picker.format();min=formsPlus.toDate($el.data('dateMinDate'),jQuery.inArray(format,parseFormats)<0?parseFormats.push(format):parseFormats,picker.useStrict(),date)}else{min=picker.minDate()}
if(min&&date.unix()>min.unix()){min=date}
picker.minDate(min)}else{$el.fpSetValue(date)}};jQuery.fn.fpDateTimePicker=function(opts){if(!formsPlus.pluginCheck(this,"Forms Plus: date time picker - Nothing selected.")){return this}
jQuery(this).each(function(i,$el){$el=jQuery($el);var elIsRtl=$el.css('direction')==='rtl'||!!(opts&&opts.rtl),options=jQuery.extend({format:formsPlus.dateFormat,locale:moment.locale(),extraFormats:[formsPlus.dateFormat],keepOpen:!0,widgetPositioning:{horizontal:elIsRtl?'right':'auto'},icons:{time:'fa fa-clock-o',date:'fa fa-calendar',up:'fa fa-chevron-up',down:'fa fa-chevron-down',previous:'fa fa-chevron-'+(elIsRtl?'right':'left'),next:'fa fa-chevron-'+(elIsRtl?'left':'right'),today:'fa fa-calendar-check-o',clear:'fa fa-calendar-times-o',close:'fa fa-times'},parseInputDate:function(inputDate){if(moment.isMoment(inputDate)||inputDate instanceof Date){inputDate=moment(inputDate)}else{var picker=$el.data("DateTimePicker"),parseFormats,format,useStrict;if(picker){parseFormats=picker.extraFormats()||[];format=picker.format();useStrict=picker.useStrict()}else{parseFormats=options.extraFormats||[];format=$el.data('dateFormat')||options.format||formsPlus.dateFormat;useStrict=options.useStrict||!1}
if(jQuery.inArray(format,parseFormats)<0){parseFormats.push(format)}
inputDate=formsPlus.toDate(inputDate,parseFormats,useStrict)}
return inputDate}},opts||{});$el.datetimepicker(options);if(jQuery('[data-js-min-field="'+$el.attr('name')+'"]').length){$el.on('dp.change',function(e){jQuery('[data-js-min-field="'+$el.attr('name')+'"]').each(function(j,$field){formsPlus.setMinDate(jQuery($field),e.date,!0)})})}});return this};formsPlus.initFn.push(function($container){$container.find('[data-js-datetimepick]:not([type="hidden"])').fpDateTimePicker();$container.find('[data-js-inline-datetimepick]').fpDateTimePicker({'inline':!0})})}
if(jQuery().spectrum){jQuery.fn.fpColorPicker=function(opts){if(!formsPlus.pluginCheck(this,"Forms Plus: color picker - Nothing selected.")){return this}
jQuery(this).each(function(i,$el){$el=jQuery($el);var options=jQuery.extend({appendTo:$el.closest(formsPlus.selectors.form).length?$el.closest(formsPlus.selectors.form):'body',preferredFormat:'hex'},opts||{});$el.spectrum(options)});return this};formsPlus.initFn.push(function($container){$container.find('[data-js-colorpick]:not([type="hidden"])').fpColorPicker();$container.find('[data-js-inline-colorpick]').fpColorPicker({'flat':!0})})}
if(jQuery().realperson){formsPlus.appendCaptchaHash=function($form){if(!jQuery().realperson){return}
var $captcha=$form.find('[data-js-captcha]:not([type="hidden"])');$captcha.each(function(i,$c){$c=jQuery($c);var name=$c.realperson('option','hashName').replace(/\{n\}/,$c.attr('name'));$form.find('input[name="'+name+'"]').remove();$form.append('<input type="hidden" class="'+formsPlus.css.removeAfterSendCss+'" name="'+name+'" value="'+$c.realperson('getHash')+'">')})};jQuery.realperson.fpFormats={format1:[['   *   ','  ***  ','  ***  ',' **  * ',' ***** ','**    *','**    *'],['****** ','**    *','**    *','****** ','**    *','**    *','****** '],[' ***** ','**    *','**     ','**     ','**     ','**    *',' ***** '],['****** ','**    *','**    *','**    *','**    *','**    *','****** '],['*******','**     ','**     ','****   ','**     ','**     ','*******'],['*******','**     ','**     ','****   ','**     ','**     ','**     '],[' ***** ','**    *','**     ','**     ','**  ***','**    *',' ***** '],['**    *','**    *','**    *','*******','**    *','**    *','**    *'],['*******','  **   ','  **   ','  **   ','  **   ','  **   ','*******'],['     **','     **','     **','     **','     **','*    **',' ***** '],['**    *','**  ** ','****   ','**     ','****   ','**  ** ','**    *'],['**     ','**     ','**     ','**     ','**     ','**     ','*******'],['*     *','**   **','*** * *','** *  *','**    *','**    *','**    *'],['*     *','**    *','***   *','** *  *','**  * *','**   **','**    *'],[' ***** ','**    *','**    *','**    *','**    *','**    *',' ***** '],['****** ','**    *','**    *','****** ','**     ','**     ','**     '],[' ***** ','**    *','**    *','**    *','**  * *','**   * ',' **** *'],['****** ','**    *','**    *','****** ','**  *  ','**   * ','**    *'],[' ***** ','**    *','**     ',' ***** ','     **','*    **',' ***** '],['*******','  **   ','  **   ','  **   ','  **   ','  **   ','  **   '],['**    *','**    *','**    *','**    *','**    *','**    *',' ***** '],['**    *','**    *',' **  * ',' **  * ','  ***  ','  ***  ','   *   '],['**    *','**    *','**    *','** *  *','*** * *','**   **','*     *'],['**    *',' **  * ','  ***  ','   *   ','  ***  ',' **  * ','**    *'],['**    *',' **  * ','  ***  ','  **   ','  **   ','  **   ','  **   '],['*******','    ** ','   **  ','  **   ',' **    ','**     ','*******'],['  ***  ',' *   * ','*   * *','*  *  *','* *   *',' *   * ','  ***  '],['   *   ','  **   ',' * *   ','   *   ','   *   ','   *   ','*******'],[' ***** ','*     *','      *','     * ','   **  ',' **    ','*******'],[' ***** ','*     *','      *','    ** ','      *','*     *',' ***** '],['    *  ','   **  ','  * *  ',' *  *  ','*******','    *  ','    *  '],['*******','*      ','****** ','      *','      *','*     *',' ***** '],['  **** ',' *     ','*      ','****** ','*     *','*     *',' ***** '],['*******','     * ','    *  ','   *   ','  *    ',' *     ','*      '],[' ***** ','*     *','*     *',' ***** ','*     *','*     *',' ***** '],[' ***** ','*     *','*     *',' ******','      *','     * ',' ****  ']],};jQuery.fn.fpCaptcha=function(opts){if(!formsPlus.pluginCheck(this,"Forms Plus: captcha - Nothing selected.")){return this}
jQuery(this).each(function(i,$el){$el=jQuery($el);var options={};jQuery.extend(options,opts||{},formsPlus.getDataOptions($el,'captcha',['length','regenerate','dot','hashName']));if($el.data('captchaFormat')&&jQuery.realperson.fpFormats[$el.data('captchaFormat')]){options.dots=jQuery.realperson.fpFormats[$el.data('captchaFormat')]}
if($el.data('captchaNumbers')){options.chars=jQuery.realperson.alphanumeric}else if($el.data('captchaNumbersOnly')){options.chars='0123456789';options.dots=(options.dots||jQuery.realperson.defaultDots).slice(-10)}
$el.realperson(options)});return this};formsPlus.initFn.push(function($container){$container.find('[data-js-captcha]:not([type="hidden"])').fpCaptcha()})}
jQuery.fn.fpImageupload=function(){if(!formsPlus.pluginCheck(this,"Forms Plus: imageupload - Nothing selected.")){return this}
jQuery.each(this,function(i,$el){$el=jQuery($el);var reader=!1;if(typeof(FileReader)!=='undefined'){reader=new FileReader();reader.onloadstart=function(){$el.removeClass('p-has-file')};reader.onload=function(e){$el.find('.p-preview').empty().html('<img src="'+e.target.result+'" alt="" />');$el.addClass('p-has-preview')}}
$el.find('input[type="file"]').off('change.pImageUpload').on('change.pImageUpload',function(){var files=this.files?this.files:this.currentTarget.files;if(reader){reader.readAsDataURL(files[0])}else{$el.addClass('p-has-file')}
$el.find('.p-preview-name').text(this.value)})});return this};formsPlus.initFn.push(function($container){$container.find('.p-file-wrap [type="file"]').off('change.pFile').on('change.pFile',function(){jQuery(this).closest('.form-group').find('.form-control').val(this.value)});$container.find('[data-js-image-upload]').fpImageupload()})